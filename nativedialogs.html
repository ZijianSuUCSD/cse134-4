<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HW4 part 1</title>
    <script type="text/javascript" src="https://cdnout.com/dompurify/purify.js"></script>
</head>
<body>
    <h1>Simple Dialogs</h1>
    <a href="/index.html">back to home page</a>
    <br>
    <br>
    <br>
    <button id="my_alert" >Alert</button>
    <button id="my_confirm" >Confirm</button>
    <button id="my_prompt">Prompt</button>
    <button id="my_safer_prompt">Safer Prompt</button>
    <hr>
    <output id="opt1" style="display: none;"></output>
    <output id="opt2" style="display: none;"></output>
    <output id="opt3" style="display: none;"></output>

    <script>
        /*
         * Zijian Su 7/26/2020 
         * hw4 part 1 Simple Dialogs javascript
         * Note that export is not necessary in my script, 
         * it just doesn't need to be modified because it works.
        **/

        /* Alert
         * button event, show the alert dialog. Call the browser's alert window
         * Used to display information.
        **/
        /*one arrow function   => */
        document.getElementById("my_alert").addEventListener("click", ()=> alert("Alert pressed"))

        /* Confirm
         * button event, show the confirm dialog. Call the browser's confirm window
         * Returns the user clicked the ok or cancel button.
        **/
        document.getElementById("my_confirm").addEventListener("click",function(){
            let my_value =  confirm("Do you confirm this?");
            const opt_elem = document.getElementById("opt1");
            opt_elem.textContent = `The value returned by the confirm method is : ${my_value}`;
            opt_elem.style.display = "initial";
            document.getElementById("opt2").style.display = "none";
            document.getElementById("opt3").style.display = "none";
        })

        /* Prompt
         * button event, show the prompt dialog. Call the browser's prompt window
         * Returns the text entered by the user
        **/
        document.getElementById("my_prompt").addEventListener("click",function(){
            let my_prompt_input = prompt("What is your name?");
            let opt2_elem = document.getElementById("opt2");
            if(my_prompt_input != null && my_prompt_input != ""){
                opt2_elem.innerHTML = `Prompt result: ${my_prompt_input}`;
            }
            else{
                opt2_elem.innerHTML = "User didn't enter anything";
            }
            opt2_elem.style.display = "initial";
            document.getElementById("opt1").style.display = "none";
            document.getElementById("opt3").style.display = "none";
        })

        /*Safer Prompt
         * button event, show the prompt dialog. Call the browser's prompt window
         * DOMPurify is referenced on the previous basis to sanitize the input.
         * Returns the text entered by the user
        **/
        document.getElementById("my_safer_prompt").addEventListener("click",function(){
            let my_prompt_input2 = prompt("What is your name?");
            let opt3_elem = document.getElementById("opt3");
            if(my_prompt_input2 != null && my_prompt_input2 != ""){
                let clean = DOMPurify.sanitize(my_prompt_input2);
                opt3_elem.innerHTML = `Prompt result: ${clean}`;
            }
            else{
                opt3_elem.innerText = "User didn't enter anything";
            }
            opt3_elem.style.display = "initial";
            document.getElementById("opt1").style.display = "none";
            document.getElementById("opt2").style.display = "none";
        })
    </script>


   


</body>

</html>
